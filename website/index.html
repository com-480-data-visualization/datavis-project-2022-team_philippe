<!DOCTYPE html>
<head>
    <!-- CSS links -->
    <link rel="stylesheet" type="text/css" href="css/fullpage.min.css" />
    <link rel="stylesheet" type="text/css" href="css/main.css" />
    <link rel="stylesheet" type="text/css" href="css/title.css" />
    <link rel="stylesheet" type="text/css" href="css/tinder.css" />
    <link rel="stylesheet" type="text/css" href="css/cat.css" />
    <link rel="stylesheet" type="text/css" href="css/bubbles.css" />
    <link rel="stylesheet" type="text/css" href="css/book-size.css" />
    <link rel="stylesheet" type="text/css" href="css/coins.css" />
    <link rel="stylesheet" type="text/css" href="css/bipartite.css" />

    <!-- Webpage Title & Icon-->
    <title>Studio Bibli</title>
    <link rel="icon" href="./img/7-fococlipping-standard.png"/>

    <!-- Meta data - not displayed -->
    <meta name="author" content="Guillaume Parchet, Roxane Pangaud, Arnaud Gaudard">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Custom fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sacramento&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cookie&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;800&display=swap" rel="stylesheet">

    <!-- Front Awesom Kit (icons on buttons)-->
    <script src="https://kit.fontawesome.com/552632b0d1.js" crossorigin="anonymous"></script>

    <!-- Access jQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.1.0/papaparse.min.js"></script>

    <!-- import libraries (including two versions of d3) -->
    <script src="https://d3js.org/d3.v4.js"></script>
    <script>d3v4 = d3; window.d3 = null;</script>
    <script src="lib/bipartitelib.js"></script>
    <script src="lib/d3.js"></script>
    <script src="lib/hammer.min.js"></script>

</head>

<body>
    <div id="fullpage">

        <!-- Opening Page -->
        <section class="section main-title-background">

          <div class="first-slide-container">

            <div class="main-title-container">
              <img src="./img/title-image-left.png" alt="Title text siding left"/>
              <div class="fancy-text main-title white">Studio Bibli</div>
              <img src="./img/title-image-right.png" alt="Title text siding right"/>
            </div>

            <div class="main-title-call-to-action-container">
              <div class="main-title-call-to-action" onclick="myFullpage.moveSectionDown();">
                <span class="text" class="noselect">Open !</span>
                <div class="circle"></div>
              </div>
            </div>

            <div class="main-title-spacer">
            </div>

          </div>

        </section>

        <!-- Cat + Tinder Page -->
        <section class="section">
          <!-- Cat Introduction Page-->
          <div class="slide">
            <div class="grid-container">
              <div class="topcell"></div>
              <div class="leftcell"></div>
              <div class="centercell">
                <div class="philippe-bulle">
                  <img src="./img/bulle.png" alt="Bulle image" />
                  <div id="dialog_l1_s1" class="fancy-text white dialog-text dialog-top-mid-position">Welcome to <br> Studio Bibli!</div>
                </div>
                <div class="philippe-centered">
                  <img src="./img/1-fococlipping-standard.png" alt="PHILIPPE centered image"/>
                  <button id="speech-button-l1-s1" class="speech-button"><i class="fa-solid fa-play"></i></button>
                </div>
                <div class="philippe-name">
                  <span>PHILIPPE</span>
                </div>
              </div>
              <div class="rightcell"></div>
              <div class="bottomcell"></div>
            </div>
          </div>

          <!-- Tinder Page-->
          <div class="slide" id="TinderPage">
            <div class="tinder-background">
              <div class="tinder">
                <div class="tinder--status">
                  <i class="fa fa-remove"></i>
                  <i class="fa fa-heart"></i>
                </div>

                <div class="tinder--cards" id="TinderCards">
                </div>

                <div class="tinder--buttons-div">
                  <div id="nope" class="tinder--buttons">
                    <i class="fa fa-remove"></i>
                  </div>
                  <div id="love" class="tinder--buttons">
                    <i class="fa fa-heart"></i>
                  </div>
                </div>

                <div class="tinder--swipe">
                  <div class="tinder--swipe-box">
                    <span>
                      <span class="text-open-sans-light">Swipe!</span><br>
                      <i class="fa-solid fa-arrow-down tinder--swipe-button" onclick="myFullpage.moveSectionDown();"></i>
                    </span>
                  </div>
                </div>

              </div>
            </div>
          </div>
        </section>

        <!-- Cat Preferences Pages-->
        <section class="section">
          <div class="slide">
            <div class="grid-container">
              <div class="topcell"></div>
              <div class="leftcell"></div>
              <div class="centercell">
                <div class="philippe-bulle">
                  <img src="./img/bulle.png" alt="Bulle image" />
                  <div id="dialog_l2_s1" class="fancy-text white dialog-text dialog-top-mid-position">Now let's check on<br>your preferences!</div>
                </div>
                <div class="philippe-centered">
                  <img src="./img/7-fococlipping-standard.png" alt="PHILIPPE centered image"/>
                  <button id="speech-button-l2-s1" class="speech-button"><i class="fa-solid fa-play"></i></button>
                </div>
                <div class="philippe-name">
                  <span>PHILIPPE</span>
                </div>
              </div>
              <div class="rightcell"></div>
              <div class="bottomcell"></div>
            </div>
          </div>

          <div class="slide relative-slide">
            <span class="text-open-sans-ultrabold medium white">How long do you like your books?</span>
            <div id="book-size">
                <span class="text-open-sans-ultrabold white"></span>
            </div>
            <img src="./img/5-fococlipping-standard.png" id="book-size-philippe-popup" class="philippe-popup ghost-elem" style="transform:rotate(-25deg);"/>
          </div>

          <!-- Cover type buttons-->
          <div class="slide relative-slide">
            <span class="text-open-sans-ultrabold white title-cover-pos">Select your favourite book formats</span>

            <div class="cover-hugediv">
              <div class="cover-bigdiv">
                <div class="cover-div">
                  <input type="checkbox" id="cover-flexible"/>
                  <div class="cover-div-div">
                    <span>
                      <i class="fa-solid fa-book-open" style="margin: 1vw"></i><br>
                      <span class="text-open-sans-light cover-button-font">Flexible</span>
                    </span>
                  </div>
                </div>

                <div class="cover-div">
                  <input type="checkbox" id="cover-hard"/>
                  <div class="cover-div-div">
                    <span>
                      <i class="fa-solid fa-book" style="margin: 1vw"></i><br>
                      <span class="text-open-sans-light cover-button-font">Hard</span>
                    </span>
                  </div>
                </div>

                <div class="cover-div">
                  <input type="checkbox" id="cover-ebook"/>
                  <div class="cover-div-div">
                    <span>
                      <i class="fa-solid fa-tablet" style="margin: 1vw"></i><br>
                      <span class="text-open-sans-light cover-button-font">Ebook</span>
                    </span>
                  </div>
                </div>

                <div class="cover-div">
                  <input type="checkbox" id="cover-audiobook"/>
                  <div class="cover-div-div">
                    <span>
                      <i class="fa-solid fa-headphones" style="margin: 1vw"></i><br>
                      <span class="text-open-sans-light cover-button-font">Audiobook</span>
                    </span>
                  </div>
                </div>

                <div class="cover-div">
                  <input type="checkbox" id="cover-other"/>
                  <div class="cover-div-div">
                    <span>
                      <i class="fa-solid fa-ellipsis" style="margin: 1vw"></i><br>
                      <span class="text-open-sans-light cover-button-font">Others</span>
                    </span>
                  </div>
                </div>

              </div>
            </div>
          </div>

          <div class="slide relative-slide">
            <span class="text-open-sans-ultrabold white title-position">How much would you pay for a book?</span>
            <div class="coin-stack" id="stacked_coins">
              <img src = "./img/side_coin.svg" id="coin7" class="coins-widget ghost-elem" style="transform: translate(0.25vw, 0px);"/>
              <img src = "./img/side_coin.svg" id="coin6" class="coins-widget ghost-elem" style="transform: translate(-0.1vw, 0px);"/>
              <img src = "./img/side_coin.svg" id="coin5" class="coins-widget ghost-elem" style="transform: translate(-0.2vw, 0px);"/>
              <img src = "./img/side_coin.svg" id="coin4" class="coins-widget ghost-elem"/>
              <img src = "./img/side_coin.svg" id="coin3" class="coins-widget ghost-elem" style="transform: translate(0.1vw, 0px);"/>
              <img src = "./img/side_coin.svg" id="coin2" class="coins-widget ghost-elem" style="transform: translate(-0.3vw, 0px);"/>
              <img src = "./img/side_coin.svg" id="coin1" class="coins-widget ghost-elem"/>
              <img src = "./img/side_coin.svg" class="coins-widget" style="transform: translate(-0.3vw, 0px);"/>
              <img src = "./img/side_coin.svg" class="coins-widget" id="red-coin"/>
            </div>
            <img src = "./img/facing_coin.svg" id="face-coin" class="face-coin-widget"/>
            <img src="./img/4-fococlipping-standard.png" id="p7-popup" class="philippe-popup ghost-elem" style="transform:rotate(-25deg);"/>
            <span id="coin-price" class="text-open-sans-ultrabold white units-position">If not super cheap, I'm not in!</span>
          </div>

          <div class="slide">
            <div class="grid-container">
              <div class="topcell"></div>
              <div class="leftcell"></div>
              <div class="centercell">
                <div class="philippe-bulle">
                  <img src="./img/bulle.png" alt="Bulle image" />
                  <div id="dialog_l2_s5" class="fancy-text white dialog-text dialog-top-mid-position">Awesome!</div>
                </div>
                <div class="philippe-centered">
                  <img src="./img/2-fococlipping-standard.png" alt="PHILIPPE centered image" />
                  <button id="speech-button-l2-s5" class="speech-button"><i class="fa-solid fa-play"></i></button>
                </div>
                <div class="philippe-name">
                  <span>PHILIPPE</span>
                </div>
              </div>
              <div class="rightcell"></div>
              <div class="bottomcell"></div>
            </div>
          </div>
        </section>

        <!-- Map Pages-->
        <section class="section">
          <!-- Explanations Page -->
          <div class="slide">
            <span class="text-open-sans-ultrabold white explanations" style="font-size:3rem">Navigating the Bubble Graph</span>
            <span class="text-open-sans-light white explanations white">Using the information you gave to Philippe, he is now able to show you
              books that may arise your interest! Thanks to the huge bubble graph he created, you'll be able to find all kind of non-mainstream content. It is structured as follows:<br>
              • <b>Genres-layer:</b> Each top-layer bubble represents a genre. The larger the bubble, the more books are inside.<br>
              • <b>Book-layer:</b> Clicking on a genre bubble will zoom you into it and allow you to get a bigger pictures of the books present.
              This time, the bigger the bubble, the more it is similar to books you matched on your Tinder page!<br>
              • <b>Info-layer:</b> A title seems appealing? Just click the bubble to display all detailed information about the concerned book!
              Cover, summary, price... nothing can escape you!
              <!--<br> <br> Philippe select the books only based on the preferences you selected, and based on the similarity of the words on
              the summary of the books. <b class="yellow">EXPLANATION OF THE DISTANCE SIMILARITY TODO</b> (size, book summary distance, etc...)</span>-->
          </div>
          <div class="slide">
            <div id="bubbles"></div>
            <div id="bubbles-tooltip" class="white">
                <div class="topflex">
                    <img src=""/>
                    <div class="definitions">
                        <div class="title text-open-sans-ultrabold"></div>
                        <div class="author"></div>
                        <div class="category"></div>
                        <div>
                            <span class="pages"></span> pages - <span class="format"></span> - $<span class="price"></span>
                        </div>
                        <div class="date"></div>
                        <div>
                            <span class="rating"></span>/10 - (<span class="rating_number"></span> ratings)
                        </div>
                    </div>
                    <span class="x"><i class="fa fa-times"></i></span>
                </div>
                <div class="bottom">

                </div>
            </div>
            <div id="bubbles-loading">
                <span class="text-open-sans-ultrabold white explanations">Loading...</span>
            </div>
            <div id="bubbles-philippe">
                <div class="philippe-bulle">
                  <img src="./img/bulle.png" alt="Bulle image" />
                  <div class="fancy-text white dialog-text dialog-top-mid-position">How selective are you?!<br>Did you use the widgets?</div>
                </div>
                <div class="philippe-centered">
                  <img src="./img/6-fococlipping-standard.png" alt="PHILIPPE centered image"/>
                </div>
                <div class="angry-philippe-name">
                  <span>PHILIPPE</span>
                </div>
            </div>
          </div>
        </section>

        <!-- Learn more on litterature pages-->
        <section class="section">
          <div class="slide">
            <div class="grid-container">
              <div class="topcell"></div>
              <div class="leftcell"></div>
              <div class="centercell">
                <div class="philippe-bulle">
                  <img src="./img/bulle.png" alt="Bulle image" />
                  <div id="dialog_l4_s1" class="fancy-text white dialog-text dialog-top-mid-position">What?<br>You're still here?!</div>
                </div>
                <div class="philippe-centered">
                  <img src="./img/3-fococlipping-standard.png" id="philippe-icon-l4-s1" alt="PHILIPPE centered image"/>
                  <button id="speech-button-l4-s1" class="speech-button"><i class="fa-solid fa-play"></i></button>
                </div>
                <div class="philippe-name">
                  <span>PHILIPPE</span>
                </div>
              </div>
              <div class="rightcell"></div>
              <div class="bottomcell"></div>
            </div>
          </div>

          <div class="slide">
            <div id="biparite-flex-container">
              <div id="biparite-title" class="text-open-sans-ultrabold white">Genres VS Ratings</div>
              <div id="biparite-vizu"></div>
              <div id="biparite-buttons">
                <label class="biparite-label biparite-label-checked" for="biparite-ratings">
                  <span class="biparite-label-text">Rating</span>
                  <input type="radio" class="biparite-radio" id="biparite-ratings" name="biparite-graph-type" value="ratings" checked>
                </label>
                <label class="biparite-label" for="biparite-pages">
                  <span class="biparite-label-text">Pages</span>
                  <input type="radio" class="biparite-radio" id="biparite-pages" name="biparite-graph-type" value="pages">
                </label>
                <label class="biparite-label" for="biparite-title-length">
                  <span class="biparite-label-text">Title Length</span>
                  <input type="radio" class="biparite-radio" id="biparite-title-length" name="biparite-graph-type" value="title_length">
                </label>
                <label class="biparite-label" for="biparite-price">
                  <span class="biparite-label-text">Price</span>
                  <input type="radio" class="biparite-radio" id="biparite-price" name="biparite-graph-type" value="price">
                </label>


                <!-- <label class="rad-label" id="rad-but1">
                  <input type="radio" class="rad-input" name="rad">
                  <div class="rad-design"></div>
                  <div class="rad-text">Air</div>
                </label>
                <label class="rad-label" id="rad-but2">
                  <input type="radio" class="rad-input" name="rad">
                  <div class="rad-design"></div>
                  <div class="rad-text">Clouds</div>
                </label>
                <label class="rad-label" id="rad-but3">
                  <input type="radio" class="rad-input" name="rad">
                  <div class="rad-design"></div>
                  <div class="rad-text">Earth</div>
                </label>
                <label class="rad-label" id="rad-but4">
                  <input type="radio" class="rad-input" name="rad">
                  <div class="rad-design"></div>
                  <div class="rad-text">Water</div>
                </label> -->
              </div>
            </div>

          </div>
          <div class="slide">
            <span class="medium">Circular Timeline of published books</span>
          </div>
        </section>

        <!-- Credits Page -->
        <footer class="section fp-auto-height text-centered">
          <p>
            <span class="fancy-text" style="color:white;font-size:3vw;"><b>« Studio Bibli »<br></b></span>
            <span class="white text-open-sans-light footer-text-size"> a website designed by </span>
            <span class="white text-open-sans-ultrabold yellow footer-text-size">Roxane Pangaud</span>
            <span class="white text-open-sans-light footer-text-size">, </span>
            <span class="white text-open-sans-ultrabold yellow footer-text-size">Guillaume Parchet</span>
            <span class="white text-open-sans-light footer-text-size">and </span>
            <span class="white text-open-sans-ultrabold yellow footer-text-size">Arnaud Gaudard</span>
          </p>
        </footer>

    </div>
</body>

<!-- visualizations imports -->
<script src="js/dialogs.js"></script>
<script src="js/tinder.js"></script>
<script src="js/book-size.js"></script>
<script src="js/coins_widget.js"></script>
<script src="js/cover.js"></script>
<script src="js/bubbles.js"></script>
<script src="js/biparite.js"></script>

<!-- fullpage setup -->
<script type="text/javascript" src="lib/fullpage.js"></script>
<script type="text/javascript">
    var disgusting_fullpage_state = 0;  // remembers at which slide we are for section 3. fullpage does not handle this basic shit for us...

    var myFullpage = new fullpage('#fullpage', {
        licenseKey: 'gplv3-license',
        navigation: true,
        slidesNavigation: true,
        loopHorizontal: false,
        sectionsColor: ['#63474dff', '#E9CFA9ff', '#d6a184ff', '#aa767cff', '#fec196ff', '#63474dff'],
        onSlideLeave: function(section, origin, destination, direction) {
            if (section.index == 3) {
                disgusting_fullpage_state = destination.index;
                if (destination.index == 1) {
                    global_refresh_bubbles();
                }
            }
        },
        onLeave: function(origin, destination, direction, trigger) {
            if (destination.index == 3 && disgusting_fullpage_state == 1) {
                global_refresh_bubbles();
            }
        }
    });
</script>
